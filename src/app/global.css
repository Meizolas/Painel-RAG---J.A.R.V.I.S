/* =========================
   JARVIS GLOBAL (App Router)
   ========================= */

   :root{
    --bg: #05070d;
    --panel: rgba(255,255,255,.035);
    --panel2: rgba(0,0,0,.22);
    --border: rgba(34,211,238,.15);
    --border2: rgba(255,255,255,.10);
    --cyan: #22d3ee;
    --violet: #a855f7;
    --text: rgba(255,255,255,.92);
    --muted: rgba(255,255,255,.58);
    --muted2: rgba(255,255,255,.42);
    --shadow: 0 0 60px rgba(34,211,238,.10);
  }
  
  /* Fonte: tenta parecer “tech” sem dependência externa */
  html, body{
    height:100%;
    background: var(--bg);
    color: var(--text);
    margin: 0;
    /* “igual tava antes”: estilo mais “terminal/tech” */
    font-family:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", "Courier New", monospace;
    letter-spacing: 0.1px;
  }
  
  /* Melhor quebra de texto pra não “quebrar” UI */
  *{
    box-sizing: border-box;
  }
  p, div, span, button, textarea{
    overflow-wrap: anywhere;
    word-break: break-word;
  }
  
  /* ===== Root / BG ===== */
  .jarvis-root{
    min-height: 100vh;
    position: relative;
    overflow: hidden;
  }
  
  /* background layers */
  .jarvis-bg{
    position: fixed;
    inset: 0;
    pointer-events: none;
  }
  .jarvis-bg__glowTop{
    position:absolute; inset:0;
    opacity:.22;
    background: radial-gradient(ellipse at top, rgba(34,211,238,.35), transparent 55%);
  }
  .jarvis-bg__glowBottom{
    position:absolute; inset:0;
    opacity:.12;
    background: radial-gradient(ellipse at bottom, rgba(168,85,247,.22), transparent 60%);
  }
  .jarvis-bg__grid{
    position:absolute; inset:0;
    opacity:.10;
    background-image:
      linear-gradient(rgba(34,211,238,.08) 1px, transparent 1px),
      linear-gradient(90deg, rgba(34,211,238,.08) 1px, transparent 1px);
    background-size: 54px 54px;
    background-position: center;
  }
  .jarvis-bg__scan{
    position:absolute; inset:0;
    opacity:.08;
    background: linear-gradient(to bottom, transparent, rgba(34,211,238,.20), transparent);
    animation: jarvis-scan 4.8s linear infinite;
  }
  @keyframes jarvis-scan{
    0%{ transform: translateY(-40%); }
    100%{ transform: translateY(140%); }
  }
  
  /* ===== Shell central (controla tamanho) ===== */
  .jarvis-shell{
    position: relative;
    margin: 0 auto;
    /* fica centralizado e não ocupa tudo */
    max-width: 1100px;
    padding: 18px 16px 26px;
  }
  
  @media (min-width: 640px){
    .jarvis-shell{ padding: 26px 22px 30px; }
  }
  
  /* ===== Topbar ===== */
  .jarvis-topbar{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 12px;
    padding: 6px 2px 14px;
  }
  
  .jarvis-brand{ display:flex; align-items:center; gap: 12px; min-width: 0; }
  .jarvis-badge{
    height: 42px; width: 42px;
    border-radius: 18px;
    border: 1px solid rgba(34,211,238,.20);
    background: rgba(34,211,238,.10);
    box-shadow: 0 0 40px rgba(34,211,238,.10);
    display:grid; place-items:center;
  }
  .jarvis-badgeDot{
    height: 14px; width: 14px;
    border-radius: 999px;
    background: rgba(34,211,238,.65);
    box-shadow: 0 0 18px rgba(34,211,238,.35);
  }
  .jarvis-title{
    display:flex;
    align-items:baseline;
    gap: 10px;
    line-height: 1.1;
  }
  .jarvis-titleGrad{
    font-weight: 800;
    letter-spacing: .10em;
    background: linear-gradient(90deg, #22d3ee, #a855f7, #22d3ee);
    -webkit-background-clip:text;
    background-clip:text;
    color: transparent;
  }
  .jarvis-sub{
    font-size: 12px;
    color: rgba(255,255,255,.55);
    font-weight: 600;
    letter-spacing: .02em;
  }
  
  .jarvis-actions{ display:flex; align-items:center; gap: 8px; flex-shrink:0; }
  
  .jarvis-pill{
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.05);
    font-size: 12px;
    letter-spacing: .05em;
  }
  .jarvis-pill--online{
    border-color: rgba(34,211,238,.20);
    background: rgba(34,211,238,.10);
    color: rgba(34,211,238,.95);
  }
  .jarvis-pill--btn{
    cursor:pointer;
  }
  .jarvis-pill--btn:hover{ background: rgba(255,255,255,.10); }
  .jarvis-pill--soft{
    border-color: rgba(34,211,238,.15);
    background: rgba(34,211,238,.06);
    color: rgba(255,255,255,.75);
  }
  .jarvis-accent{ color: rgba(34,211,238,.95); }
  
  /* ===== Card ===== */
  .jarvis-card{
    border-radius: 26px;
    border: 1px solid var(--border);
    background: var(--panel);
    backdrop-filter: blur(18px);
    box-shadow: var(--shadow);
    overflow: hidden;
  }
  
  /* ===== Empty ===== */
  .jarvis-empty{
    min-height: 72vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding: 28px 18px 22px;
    text-align:center;
    gap: 12px;
  }
  .jarvis-emptyOrb{
    margin-bottom: 2px;
    /* sem “moldura” do container */
    background: transparent;
    border: 0;
    box-shadow: none;
  }
  .jarvis-emptyMeta{ max-width: 640px; }
  .jarvis-kicker{
    font-size: 12px;
    letter-spacing: .38em;
    text-transform: uppercase;
    color: rgba(255,255,255,.55);
  }
  .jarvis-h2{
    margin: 10px 0 0;
    font-size: 22px;
    letter-spacing: .02em;
  }
  .jarvis-p{
    margin: 8px auto 0;
    font-size: 13px;
    color: rgba(255,255,255,.65);
    line-height: 1.5;
    max-width: 560px;
  }
  .jarvis-suggestions{
    margin-top: 16px;
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap: 10px;
  }
  .jarvis-chip{
    border-radius: 999px;
    padding: 10px 14px;
    border: 1px solid rgba(34,211,238,.15);
    background: rgba(0,0,0,.18);
    color: rgba(255,255,255,.82);
    cursor:pointer;
    transition: 140ms ease;
  }
  .jarvis-chip:hover{
    background: rgba(0,0,0,.28);
    border-color: rgba(34,211,238,.22);
    transform: translateY(-1px);
  }
  
  /* ===== Chat ===== */
  .jarvis-chatHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 12px;
    padding: 16px 16px;
    border-bottom: 1px solid rgba(255,255,255,.10);
  }
  @media(min-width:640px){
    .jarvis-chatHeader{ padding: 16px 20px; }
  }
  .jarvis-chatHeaderLeft{ display:flex; align-items:center; gap: 12px; min-width:0; }
  .jarvis-chatTitle{ font-weight: 800; letter-spacing: .06em; }
  .jarvis-chatHint{ font-size: 12px; color: rgba(255,255,255,.55); }
  
  .jarvis-chatBody{
    height: 56vh;
    overflow-y:auto;
    padding: 16px;
    display:flex;
    flex-direction:column;
    gap: 14px;
  }
  @media(min-width:640px){
    .jarvis-chatBody{ height: 60vh; padding: 18px 20px; }
  }
  
  /* rows */
  .jarvis-row{
    display:flex;
    align-items:flex-start;
    gap: 10px;
  }
  .jarvis-row--user{ justify-content:flex-end; }
  
  .jarvis-rowAvatar{ margin-top: 2px; flex: 0 0 auto; }
  
  .jarvis-col{
    max-width: 760px;
    width: 100%;
  }
  .jarvis-col--user{
    display:flex;
    flex-direction:column;
    align-items:flex-end;
  }
  
  /* bubbles */
  .jarvis-bubble{
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,.10);
    padding: 12px 14px;
    box-shadow: 0 0 25px rgba(34,211,238,.06);
  }
  .jarvis-bubble--ai{
    border-color: rgba(34,211,238,.15);
    background: rgba(34,211,238,.05);
  }
  .jarvis-bubble--user{
    background: rgba(255,255,255,.05);
  }
  
  .jarvis-text{
    margin:0;
    white-space: pre-wrap;
    font-size: 13px;
    line-height: 1.55;
    color: rgba(255,255,255,.92);
  }
  
  .jarvis-time{
    margin-top: 6px;
    margin-left: 10px;
    font-size: 11px;
    color: rgba(255,255,255,.42);
  }
  
  .jarvis-userAvatar{
    height: 40px; width: 40px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.05);
    display:grid; place-items:center;
    font-weight: 800;
    color: rgba(255,255,255,.82);
    flex: 0 0 auto;
  }
  
  /* sources button inside bubble */
  .jarvis-sourcesBtn{
    margin-top: 10px;
    display:inline-flex;
    align-items:center;
    gap: 8px;
    border: 0;
    background: transparent;
    color: rgba(34,211,238,.90);
    cursor:pointer;
    font-size: 12px;
    padding: 0;
  }
  .jarvis-sourcesBtn:hover{ color: rgba(34,211,238,1); }
  .jarvis-sourcesDot{
    height: 6px; width: 6px;
    border-radius: 999px;
    background: rgba(34,211,238,.85);
  }
  
  /* typing */
  .jarvis-processing{
    display:flex;
    align-items:center;
    gap: 10px;
    color: rgba(34,211,238,.95);
    font-size: 13px;
    font-weight: 700;
  }
  .jarvis-processingSub{
    margin-top: 4px;
    color: rgba(255,255,255,.55);
    font-size: 12px;
  }
  .jarvis-dots{
    width: 22px; height: 10px; display:inline-block;
    background:
      radial-gradient(circle closest-side, rgba(34,211,238,.9) 90%, transparent) 0% 50%/6px 6px,
      radial-gradient(circle closest-side, rgba(34,211,238,.9) 90%, transparent) 50% 50%/6px 6px,
      radial-gradient(circle closest-side, rgba(34,211,238,.9) 90%, transparent) 100% 50%/6px 6px;
    background-repeat:no-repeat;
    animation: jarvis-dots 1.2s infinite ease-in-out;
  }
  @keyframes jarvis-dots{
    0%,100%{ opacity:.35; transform: translateY(0); }
    50%{ opacity:1; transform: translateY(-1px); }
  }
  
  /* sources panel */
  .jarvis-sources{
    border-top: 1px solid rgba(255,255,255,.10);
    padding: 14px 16px 16px;
  }
  @media(min-width:640px){
    .jarvis-sources{ padding: 14px 20px 18px; }
  }
  .jarvis-sourcesHead{
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size: 12px;
    color: rgba(255,255,255,.70);
    letter-spacing:.05em;
  }
  .jarvis-muted{ color: rgba(255,255,255,.45); }
  
  .jarvis-sourcesGrid{
    margin-top: 10px;
    display:grid;
    grid-template-columns: 1fr;
    gap: 10px;
  }
  @media(min-width:740px){
    .jarvis-sourcesGrid{ grid-template-columns: 1fr 1fr; }
  }
  
  .jarvis-sourceCard{
    border-radius: 18px;
    border: 1px solid rgba(34,211,238,.12);
    background: rgba(0,0,0,.16);
    padding: 12px 12px;
  }
  .jarvis-sourceTitle{
    font-size: 13px;
    color: rgba(34,211,238,.92);
    font-weight: 800;
  }
  .jarvis-sourceSection{
    margin-top: 4px;
    font-size: 11px;
    color: rgba(255,255,255,.55);
  }
  .jarvis-sourceSnippet{
    margin-top: 8px;
    font-size: 12px;
    color: rgba(255,255,255,.62);
    line-height: 1.45;
  }
  
  /* input */
  .jarvis-inputBar{
    border-top: 1px solid rgba(255,255,255,.10);
    padding: 12px 12px 14px;
  }
  @media(min-width:640px){
    .jarvis-inputBar{ padding: 14px 16px 16px; }
  }
  .jarvis-inputRow{
    display:flex;
    gap: 10px;
    align-items:flex-end;
  }
  .jarvis-textarea{
    width: 100%;
    flex: 1 1 auto;
    resize:none;
    border-radius: 18px;
    border: 1px solid rgba(34,211,238,.15);
    background: rgba(0,0,0,.22);
    color: rgba(255,255,255,.92);
    padding: 12px 14px;
    outline: none;
    font-size: 13px;
    line-height: 1.4;
    box-shadow: 0 0 25px rgba(34,211,238,.06);
  }
  .jarvis-textarea:focus{
    border-color: rgba(34,211,238,.28);
  }
  
  .jarvis-send{
    height: 44px;
    padding: 0 16px;
    border-radius: 18px;
    border: 1px solid rgba(34,211,238,.20);
    background: linear-gradient(90deg, rgba(34,211,238,.20), rgba(168,85,247,.14));
    color: rgba(34,211,238,.95);
    font-weight: 800;
    cursor:pointer;
    transition: 140ms ease;
    box-shadow: 0 0 30px rgba(34,211,238,.10);
    white-space: nowrap;
  }
  .jarvis-send:hover{
    transform: translateY(-1px);
    background: linear-gradient(90deg, rgba(34,211,238,.28), rgba(168,85,247,.20));
  }
  .jarvis-send:disabled{
    opacity:.55;
    cursor:not-allowed;
    transform:none;
  }
  
  .jarvis-footnote{
    margin-top: 8px;
    font-size: 11px;
    color: rgba(255,255,255,.45);
  }

  /* ===== Jarvis Avatar Stack (orb + label centralizado embaixo) ===== */
.jarvis-avatarStack{
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: 6px;
  width: 56px;        /* espaço lateral reservado */
  flex: 0 0 56px;
  margin-top: 2px;
}

.jarvis-avatarLabel{
  font-size: 8px;    /* menor, harmônico */
  line-height: 1;
  letter-spacing: .28em;
  text-transform: uppercase;
  color: rgba(255,255,255,.60);
  text-align: center;
  user-select: none;
  white-space: nowrap;
  opacity: .9;
}

/* no mobile fica ainda mais compacto */
@media (max-width: 420px){
  .jarvis-avatarStack{ width: 48px; flex-basis: 48px; }
  .jarvis-avatarLabel{ font-size: 9px; letter-spacing: .22em; }
}

  
  /* scrollbar */
  ::-webkit-scrollbar{ width: 10px; height: 10px; }
  ::-webkit-scrollbar-track{ background: rgba(255,255,255,.03); }
  ::-webkit-scrollbar-thumb{
    background: rgba(34,211,238,.20);
    border-radius: 999px;
    border: 2px solid rgba(0,0,0,.25);
  }
  ::-webkit-scrollbar-thumb:hover{ background: rgba(34,211,238,.28); }
  